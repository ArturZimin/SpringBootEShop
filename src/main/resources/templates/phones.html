<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml" xmlns:sec="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="UTF-8">
    <title>Main page</title>
    <!-- Correct stylesheet -->
    <link rel="stylesheet" type="text/css" href="/css/style.css"/>
    <!--    Butstrap-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <!--     Jquery -->
    <script src="https://code.jquery.com/jquery-3.6.1.js"
            integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>

</head>
<body>


<table class="table" >
    <thead class="thead-dark">
    <tr>
        <th scope="col">Image</th>
        <th scope="col">Description</th>

        <th scope="col" sec:authorize="hasAnyAuthority('ADMIN','MANAGER')">Change or delete product</th>
        <th scope="col">Add to bucket</th>
    </tr>
    </thead>

    <tbody>
    <tr th:each="phone:${phones}">

        <td scope="row"><img th:src="*{'data:image/jpeg;base64,'+{phone.imageProduct}}" class="img_on_phones"/></td>

        <td>
            <table class="table" >
                <thead class="table-primary">
                <tr><th>Brand and version</th>
                    <th>Color</th>
                    <th>Count sim kart</th>
                    <th>Display size</th>
                    <th>Date of production</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td th:text="${phone.title}">title</td>
                    <td th:text="${phone.productDetails.color}">Color</td>
                    <td th:text="${phone.productDetails.countSim}">Count sim</td>
                    <td th:text="${phone.productDetails.displaySize}+' inch'">Display size</td>
                    <td th:text="${phone.productDetails.yearProduction}+' year'">Display size</td>
                </tr>
                </tbody>
                <thead class="table-primary">
                <tr><th>PAM memory</th>
                    <th>RAM memory</th>
                    <th>Front camera</th>
                    <th>Rear camera</th>
                    <th>Operation system</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td th:text="${phone.productDetails.inMemory}">title</td>
                    <td th:text="${phone.productDetails.ramMemory}">Color</td>
                    <td th:text="${phone.productDetails.frontCamera}">Count sim</td>
                    <td th:text="${phone.productDetails.rearCamera}+' inch'">Display size</td>
                    <td th:text="${phone.productDetails.operationSystem}+' inch'">Display size</td>
                </tr>
                </tbody>

                <thead class="table-primary">
                <tr><th>Version operation system:</th>
                    <th>Accumulator capacity:</th>
                    <th>Processor name:</th>
                    <th>Count core in processor:</th>
                    <th>Frequency of processor:</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td th:text="${phone.productDetails.operationSystem}">title</td>
                    <td th:text="${phone.productDetails.accumulatorCapacity}+' mA'">Color</td>
                    <td th:text="${phone.processor.name}">Count sim</td>
                    <td th:text="${phone.processor.countCore}+' inch'">Display size</td>
                    <td th:text="${phone.processor.frequency}+' inch'">Display size</td>
                </tr>
                </tbody>
            </table>
        </td>

        <td sec:authorize="hasAnyAuthority('ADMIN','MANAGER')">
            <button><a th:href="@{/products/delete/{id}/{page}(id=${phone.id},page='phones')}">Delete product</a></button>
            <br/>
            <button><a th:href="@{/products/change/{id}(id=${phone.id})}" >Change product</a></button>
        </td>
        <td sec:authorize="isAuthenticated">
            <button><a th:href="@{/products/{id}/{page}/bucket(id=${phone.id},page='phones')}">Add to bucket</a>
            </button>
        </td>
        <td sec:authorize="!isAuthenticated">
            <button><a th:href="@{/login}">&#10155;Please: Log in </a></button>
        </td>
    </tr>

    </tbody>
</table>


</body>
</html>